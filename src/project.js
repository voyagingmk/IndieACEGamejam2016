require=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({choicePanel:[function(e,t,n){"use strict";cc._RFpush(t,"08af8RZiAlPlrjcF536toKh","choicePanel");var r=e("mbgGame");cc.Class({"extends":cc.Component,properties:{choicePrefab:cc.Prefab},onLoad:function(){},cleanChoices:function(){if(this.m_Choices){for(var e=0;e<this.m_Choices.length;e++){var t=this.m_Choices[e];t.destroy(),this.node.removeChild(t)}this.m_Choices=null}},setChoices:function(e){this.cleanChoices(),this.m_Choices=[];for(var t=0;t<e.length;t++){var n=e[t],o=cc.instantiate(this.choicePrefab),i=o.getComponent("choice");i.setID(t),i.setCB(this.onChoose.bind(this)),r.resManager.loadTexture(i.headSprite,{image:n.head}),this.m_Choices.push(o),this.node.addChild(o);var a=i.headCom;a.updateShape(n)}},onChoose:function(e,t){cc.log("[onChoose]",e),r.stageMgr.onChoose(e,t)}}),cc._RFpop()},{mbgGame:"mbgGame"}],choice:[function(e,t,n){"use strict";cc._RFpush(t,"14b5fWOljdIBYgOL+RtTjhQ","choice");var r=e("head");cc.Class({"extends":cc.Component,properties:{headCom:r,btn:cc.Node,colorLayout:cc.Node},onLoad:function(){},setID:function(e){this.m_ID=e},setCB:function(e){this.m_CB=e},onPress:function(){this.m_CB&&this.m_CB(this.m_ID,this)}}),cc._RFpop()},{head:"head"}],data:[function(e,t,n){"use strict";cc._RFpush(t,"a8229+7KcNJb5K+tNZDC9rX","data"),t.exports=[{stage:1,m1:"[110,208,302,409,501]",m2:0,m3:0,f1:"[159,205,301,405,506]",f2:0,f3:0,answer:0,c1:0,c2:0},{stage:2,m1:"[104,202,307,401,507]",m2:"[101,210,307,404,509]",m3:0,f1:"[155,209,306,408,507]",f2:0,f3:0,answer:0,c1:0,c2:0},{stage:3,m1:"[110,202,302,410,503]",m2:0,m3:0,f1:"[159,201,304,410,503]",f2:"[159,201,310,402,508]",f3:0,answer:0,c1:0,c2:0},{stage:4,m1:"[109,202,303,401,502]",m2:"[110,210,302,404,503]",m3:0,f1:0,f2:0,f3:0,answer:0,c1:0,c2:0},{stage:5,m1:0,m2:0,m3:0,f1:"[153,207,301,410,506]",f2:"[153,209,309,409,505]",f3:0,answer:0,c1:0,c2:0},{stage:6,m1:"[106,207,307,403,503]",m2:"[109,204,302,402,506]",m3:"[110,210,309,409,502]",f1:0,f2:0,f3:0,answer:0,c1:0,c2:0}],cc._RFpop()},{}],head:[function(e,t,n){"use strict";cc._RFpush(t,"e9100/qmO9JeqFI6zoCD+KN","head");var r=e("mbgGame");cc.Class({"extends":cc.Component,properties:{faceSprite:cc.Sprite,browSprite:cc.Sprite,eyeSprite:cc.Sprite,noseSprite:cc.Sprite,mouthSprite:cc.Sprite},onLoad:function(){},updateShape:function(e){r.resManager.loadTexture(this.faceSprite,{image:e.face.toString()}),r.resManager.loadTexture(this.browSprite,{image:e.brow.toString()}),r.resManager.loadTexture(this.eyeSprite,{image:e.eye.toString()}),r.resManager.loadTexture(this.noseSprite,{image:e.nose.toString()}),r.resManager.loadTexture(this.mouthSprite,{image:e.mouth.toString()})}}),cc._RFpop()},{mbgGame:"mbgGame"}],human:[function(e,t,n){"use strict";cc._RFpush(t,"1d3f53LoydPC5DsYdeGk/yT","human");var r=e("mbgGame"),o=e("underscore");cc.Class({"extends":cc.Component,properties:{head:cc.Node,body:cc.Node},onLoad:function(){},toggleState:function(e){if("move"==e){var t=.7;this.head.stopAllActions(),this.head.runAction(cc.rotateTo(.25,0)),this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(t/4,15),cc.rotateBy(t/2,-30),cc.rotateBy(t/4,15))))}else{var t=1;this.node.stopAllActions(),this.node.runAction(cc.rotateTo(.25,0)),this.head.stopAllActions(),this.head.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(t/4,15),cc.rotateBy(t/2,-30),cc.rotateBy(t/4,15))))}},moveTo:function(e){var t=100,n=this.node.position,r=Math.sqrt((e.x-n.x)*(e.x-n.x)+(e.y-n.y)*(e.y-n.y));this.toggleState("move"),this.node.runAction(cc.sequence(cc.moveTo(r/t,e),cc.callFunc(function(){this.toggleState("idle")}.bind(this))))},moveIn:function(e,t){var n=70,r=this.node.position,o=Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y));this.toggleState("move"),this.node.runAction(cc.sequence(cc.delayTime(t),cc.moveTo(o/n,e),cc.fadeOut(2)))},update:function(e){},updateShape:function(e,t){var n=this.head.getComponent("head");n.updateShape(e);var i,a=this.body.getComponent(cc.Sprite);i=t?o.random(2,4):o.random(1,4),r.resManager.loadTexture(a,{image:"cloth00"+i})}}),cc._RFpop()},{mbgGame:"mbgGame",underscore:"underscore"}],mbgGame:[function(e,t,n){"use strict";cc._RFpush(t,"355c5Ybxe9EFrcmVMt0UlST","mbgGame");var r=(e("underscore"),{});t.exports=r,cc._RFpop()},{underscore:"underscore"}],parts:[function(e,t,n){"use strict";cc._RFpush(t,"6296bp9zOVLLIvGaT+z2kHy","parts"),t.exports={face:[101,102,103,104,105,106,107,108,109,110,151,152,153,154,155,156,157,158,159,160],brow:[201,202,203,204,205,206,207,208,209,210],eye:[301,302,303,304,305,306,307,308,309,310],nose:[401,402,403,404,405,406,407,408,409,410],mouth:[501,502,503,504,505,506,507,508,509,510]},cc._RFpop()},{}],peoplePanel:[function(e,t,n){"use strict";cc._RFpush(t,"3ccfcMaRf5MooR46vl0XZrI","peoplePanel"),cc.Class({"extends":cc.Component,properties:{headPrefab:cc.Prefab},onLoad:function(){},cleanHeads:function(){if(this.m_Heads){for(var e=0;e<this.m_Heads.length;e++){var t=this.m_Heads[e];t.destroy(),this.node.removeChild(t)}this.m_Heads=null}},setHeads:function(e){this.cleanHeads(),this.m_Heads=[];for(var t=0;t<e.length;t++){var n=e[t],r=cc.instantiate(this.headPrefab);r.width=.7*r.width,r.height=.7*r.height,r.setScale(.7);var o=r.getComponent("head");this.m_Heads.push(r),this.node.addChild(r),o.updateShape(n)}}}),cc._RFpop()},{}],queuedata:[function(e,t,n){"use strict";cc._RFpush(t,"ceca26PrspHj5fMjxzaDa8X","queuedata"),t.exports=[{stage:1,m1:"[106,202,305,404,508]",m2:0,m3:0,f1:"[160,205,307,408,505]",f2:0,f3:0,answer:"[110,202,307,404,505]",c1:0,c2:0},{stage:2,m1:"[105,210,304,405,506]",m2:0,m3:0,f1:"[159,206,306,402,504]",f2:0,f3:0,answer:"[109,210,306,405,504]",c1:"[109,204,306,409,506]",c2:"[106,202,302,404,501]"},{stage:3,m1:"[110,208,310,404,507]",m2:0,m3:0,f1:"[152,208,307,406,503]",f2:0,f3:0,answer:"[103,208,307,404,503]",c1:0,c2:0},{stage:4,m1:"[109,202,302,406,506]",m2:0,m3:0,f1:"[154,206,309,403,502]",f2:0,f3:0,answer:"[105,202,309,406,502]",c1:"[101,201,302,404,508]",c2:"[110,209,308,404,509]"},{stage:5,m1:"[103,201,308,405,507]",m2:0,m3:0,f1:"[153,208,302,410,504]",f2:0,f3:0,answer:"[102,201,302,405,504]",c1:0,c2:0},{stage:6,m1:"[105,201,301,402,505]",m2:0,m3:0,f1:"[153,204,307,403,509]",f2:0,f3:0,answer:"[102,201,307,402,509]",c1:"[103,210,305,410,504]",c2:"[110,201,305,404,507]"},{stage:7,m1:"[102,207,303,410,504]",m2:0,m3:0,f1:"[153,204,302,406,504]",f2:0,f3:0,answer:"[105,207,302,410,504]",c1:"[106,201,305,410,501]",c2:"[104,203,307,408,504]"},{stage:8,m1:"[102,206,307,410,508]",m2:0,m3:0,f1:"[159,210,308,401,506]",f2:0,f3:0,answer:"[103,206,308,410,506]",c1:"[106,202,302,408,510]",c2:"[101,210,303,410,501]"},{stage:9,m1:"[105,202,308,401,509]",m2:0,m3:0,f1:"[151,201,303,401,508]",f2:0,f3:0,answer:"[109,202,303,401,508]",c1:"[108,206,309,408,504]",c2:"[102,207,306,403,504]"},{stage:10,m1:"[103,207,309,401,504]",m2:0,m3:0,f1:"[157,207,301,401,507]",f2:0,f3:0,answer:"[102,207,301,401,507]",c1:"[106,205,302,404,502]",c2:"[104,206,309,401,504]"}],cc._RFpop()},{}],resManager:[function(e,t,n){"use strict";cc._RFpush(t,"c1363Lv1spNUpQOSVL4ZcrW","resManager");var r=e("mbgGame");e("underscore");cc.Class({"extends":cc.Component,properties:{atlas_ui:cc.SpriteAtlas,atlas_remote:{"default":[],type:[cc.SpriteAtlas]},spine_characters:{"default":[],type:[sp.SkeletonData]}},onLoad:function(){r.resManager=this,this.spineData={}},loadTexture:function(e,t){if(t.image){var n=t.image.split("."),o=this.atlas_ui,i=void 0,a=this;if(1==n.length)i=n[0];else if(n.length>=2){if(i=n[1]+".png","net"==n[0])return this.atlas_remote[n[1]]?void(e.spriteFrame=new cc.SpriteFrame(this.atlas_remote[n[1]])):void cc.loader.load(r.res_url+i,function(t,r){r&&(a.atlas_remote[n[1]]=r,e instanceof cc.Sprite&&(e.spriteFrame=new cc.SpriteFrame(r)))});if("local"==n[0])return void cc.loader.loadRes("images/"+i,function(t,n){n&&e instanceof cc.Sprite&&(e.spriteFrame=new cc.SpriteFrame(n))});o=this["atlas_"+n[0]]}if(o){var c=o.getSpriteFrame(i);e instanceof cc.Sprite?e.spriteFrame!=c&&(e.spriteFrame=c):e instanceof cc.Button&&e.normalSprite!=c&&(e.normalSprite=c,e.pressedSprite=c,e.hoverSprite=c,e.disabledSprite=c)}}}}),cc._RFpop()},{mbgGame:"mbgGame",underscore:"underscore"}],rise:[function(e,t,n){"use strict";cc._RFpush(t,"e27f8YieslDsKbtlRZXOQWT","rise");var r=e("underscore");cc.Class({"extends":cc.Component,properties:{moveUp:!0,dis:300,usingTime:2},onLoad:function(){var e,t=cc.callFunc(this.deleteSelf,this),n=new cc.Vec2(0,1);e=this.moveUp?cc.moveBy(1.3,n.mul(r.random(.7*this.dis,this.dis))):cc.moveBy(1.3,n.mul(r.random(.7*this.dis,this.dis)).neg());var o=cc.sequence(e,t),i=cc.sequence(cc.scaleTo(.3,4),cc.delayTime(.5),cc.spawn(cc.scaleTo(.4,1),cc.fadeOut(.4)));this.node.runAction(o),this.node.runAction(i)},deleteSelf:function(){this.node.destroy()}}),cc._RFpop()},{underscore:"underscore"}],stageManager:[function(e,t,n){"use strict";cc._RFpush(t,"7cfbahAec1JtYsPbM8ncsbJ","stageManager");var r=e("mbgGame"),o=e("data"),i=e("underscore"),a=e("parts");cc.Class({"extends":cc.Component,properties:{peopleNode:cc.Node,choiceNode:cc.Node,stageLabel:cc.Label,winLabel:cc.Prefab,loseLabel:cc.Prefab,humanPrefab:cc.Prefab,door1:cc.Node,door2:cc.Node,door3:cc.Node,endNode:cc.Node,walkLayer:cc.Node,winAudio:cc.AudioSource,loseAudio:cc.AudioSource,backAudio:cc.AudioSource,endAudio:cc.AudioSource,image1:cc.Node,image2:cc.Node,image3:cc.Node,image4:cc.Node,endBtn:cc.Node,timeLabel:cc.Label},onLoad:function(){r.stageMgr=this,this.m_MaleQueue=[],this.m_FemaleQueue=[];var e=this.getMaleHeadDatas(),t=this.getFemaleHeadDatas();cc.log("maleData",e),cc.log("femaleData",t);for(var n=0;n<e.length;n++){var o=e[n],a=cc.instantiate(this.humanPrefab),c=a.getComponent("human");a.position=new cc.Vec2(i.random(1e3,1500),-100-100*n),this.m_MaleQueue.push(a),this.walkLayer.addChild(a),c.updateShape(o,1),c.moveTo(this.calPos(this.door1Pos(),n))}for(var n=0;n<t.length;n++){var o=t[n],a=cc.instantiate(this.humanPrefab);a.position=new cc.Vec2(i.random(1e3,1500),-100-100*n);var c=a.getComponent("human");this.m_FemaleQueue.push(a),this.walkLayer.addChild(a),c.updateShape(o),c.moveTo(this.calPos(this.door2Pos(),n))}this.schedule(function(){this.nextStage()},10,0,0)},restart:function(e){window&&window.location.reload()},calPos:function(e,t){var n=new cc.Vec2(e.x,e.y);return n.x+=70*t,n.y-=90*t,n},calEnterPos:function(e){var t=new cc.Vec2(e.x,e.y);return t.x-=70,t.y+=100,t},calEndPos:function(e,t){var n=new cc.Vec2(e.x,e.y);return n.x+=150*t,n},getMaleHeadDatas:function(){for(var e=["m1","m2","m3"],t=[],n=0;n<o.length;n++)for(var r=o[n],i=0;i<e.length;i++){var a=r[e[i]];a&&t.push(this.transHeadData(a))}return t},getFemaleHeadDatas:function(){for(var e=["f1","f2","f3"],t=[],n=0;n<o.length;n++)for(var r=o[n],i=0;i<e.length;i++){var a=r[e[i]];a&&t.push(this.transHeadData(a))}return t},door1Pos:function(){return this.door1.position},door2Pos:function(){return this.door2.position},getStageData:function(e){for(var t=0;t<o.length;t++){var n=o[t];if(n.stage===e)return n}},transHeadData:function(e){return"string"==typeof e&&(e=JSON.parse(e)),{face:e[0],brow:e[1],eye:e[2],nose:e[3],mouth:e[4]}},getPartName:function(e){var t=["face","brow","eye","nose","mouth"];return t[e]},compound:function(e,t){for(var n=e.length,r=[],o=0;5>o;o++){var c=Math.floor(Math.random()*(n-.01)),s=e[c];"string"==typeof s&&(s=JSON.parse(s)),r.push(s[o])}if(!t){cc.log("[88888888]");for(var u=[0,1,2,3,4],o=0;5>o;o++){var f=u[o],l=this.getPartName(f);if(cc.log("name",l),"face"!==l){for(var h,p=a[l];;){h=p[i.random(0,p.length-1)],cc.log("[newIdx]",h);for(var d=!0,m=0;m<e.length;m++){var s=e[m];if("string"==typeof s&&(s=JSON.parse(s)),s[f]==h){d=!1;break}}if(d)break}r[o]=h}}}return r},isLastStage:function(){return null==this.getStageData((this.m_CurStage||0)+1)},nextStage:function(){if(cc.log("nextStage"),void 0==this.m_End||this.m_End){this.m_End=!1;var e=this.m_CurStage&&this.m_CurStage+1||1;this.m_CurStage=e,this.stageLabel.string="第"+this.m_CurStage+"关";var t=this.getStageData(this.m_CurStage);if(t){for(var n=0,r=0,o=["m1","m2","m3","f1","f2","f3"],i=0;i<o.length;i++){var a=o[i],c=t[a];c&&(3>i?n++:r++)}cc.log(n,r);for(var i=0;n>i;i++){var s=this.m_MaleQueue.shift(),u=s.getComponent("human");u.moveIn(this.calEnterPos(this.door1Pos()),2*i)}for(var i=0;r>i;i++){var s=this.m_FemaleQueue.shift(),u=s.getComponent("human");u.moveIn(this.calEnterPos(this.door2Pos()),2*i)}n>=2||r>=2?this.schedule(function(){this.nextStage2()},6,0,0):this.schedule(function(){this.nextStage2()},4,0,0)}}},nextStage2:function(){for(var e=this.getStageData(this.m_CurStage),t=[],n=[],r=["m1","m2","m3","f1","f2","f3"],o=0;o<r.length;o++){var a=r[o],c=e[a];if(c){n.push(c),t.push(this.transHeadData(c))}}this.choiceNode.active=!0,this.peopleNode.active=!0;var s=this.peopleNode.getComponent("peoplePanel");this.peopleNode.getComponent(cc.Layout).spacingX=2==t.length?90:0,cc.log("[origin_lst]",JSON.stringify(t)),s.setHeads(t);var u=[],f=null;f=e.answer?this.transHeadData(e.answer):this.transHeadData(this.compound(n,!0)),this.m_Answer=f,u.push(f);var l=1;r=["c2","c3"];for(var o=0;2>o;o++)if(e[r[o]]){var c=e[r[o]];u.push(this.transHeadData(c)),l++}for(;3>l;l++){var h=this.compound(n);cc.log("[compoundHead]",h),u.push(this.transHeadData(h))}u=i.shuffle(u),cc.log("[choices]",JSON.stringify(u)),this.m_Choices=u;var p=this.choiceNode.getComponent("choicePanel");p.setChoices(u),this.timeLabel.node.active=!0,this.m_LeftTime=15,this.timeLabel.string="15",this.schedule(function(){this.reduceTime()},1,15,0)},reduceTime:function(){this.m_LeftTime-=1,this.timeLabel.string=this.m_LeftTime,-1==this.m_LeftTime&&(this.timeLabel.node.active=!1,this.peopleNode.active=!1)},onChoose:function(e,t){if(!this.m_End){this.timeLabel.node.active=!1,this.m_End=!0;var n=this.m_Choices[e];if(cc.log("[compare]",n,this.m_Answer),n.brow==this.m_Answer.brow&&n.eye==this.m_Answer.eye&&n.nose==this.m_Answer.nose&&n.mouth==this.m_Answer.mouth){cc.log("[正确]");var o=cc.instantiate(this.winLabel);this.node.addChild(o);var a=o.getComponent(cc.Label),c=["干得漂亮！","哎哟不错哦","可以"];a.string=c[i.random(0,2)],t.colorLayout.active=!0,r.resManager.loadTexture(t.colorLayout.getComponent(cc.Sprite),{image:"green".toString()});var s=cc.instantiate(this.humanPrefab),u=s.getComponent("human");s.position=new cc.Vec2(this.door3.position.x,this.door3.position.y),this.walkLayer.addChild(s),u.updateShape(this.m_Answer),this.m_EndCount||(this.m_EndCount=0),u.moveTo(this.calEndPos(this.endNode.position,this.m_EndCount)),this.m_EndCount++,this.winAudio.play()}else{cc.log("[错误]");var f=cc.instantiate(this.loseLabel);this.node.addChild(f);var a=f.getComponent(cc.Label),c=["MDZZ","这他喵就尴尬了","一个能打的都没有"];a.string=c[i.random(0,2)],t.colorLayout.active=!0,r.resManager.loadTexture(t.colorLayout.getComponent(cc.Sprite),{image:"red".toString()}),this.loseAudio.play()}return this.isLastStage()?(this.endBtn.active=!0,this.backAudio.stop(),this.endAudio.play(),void this.schedule(function(){this.onNextImage()},5,0,0)):void this.schedule(function(){this.nextStage9()},1.5,0,0)}},nextStage9:function(){this.choiceNode.active=!1,this.peopleNode.active=!1;for(var e=0;e<this.m_MaleQueue.length;e++){var t=this.m_MaleQueue[e],n=t.getComponent("human");n.moveTo(this.calPos(this.door1Pos(),e))}for(var e=0;e<this.m_FemaleQueue.length;e++){var t=this.m_FemaleQueue[e],n=t.getComponent("human");n.moveTo(this.calPos(this.door2Pos(),e))}this.schedule(function(){this.nextStage()},3,0,0)},onNextImage:function(){this.m_ImageIdx||(this.m_ImageIdx=0),this.m_ImageIdx++,1===this.m_ImageIdx&&(this.image1.active=!0,this.schedule(function(){this.onNextImage()},5,0,0)),2===this.m_ImageIdx&&(this.image2.active=!0,this.schedule(function(){this.onNextImage()},5,0,0)),3===this.m_ImageIdx&&(this.image3.active=!0)}}),cc._RFpop()},{data:"data",mbgGame:"mbgGame",parts:"parts",underscore:"underscore"}],underscore:[function(e,t,n){"use strict";cc._RFpush(t,"37c83CenCVKDKFPyBKEYdpw","underscore"),function(){function e(e){function t(t,n,r,o,i,a){for(;i>=0&&a>i;i+=e){var c=o?o[i]:i;r=n(r,t[c],c,t)}return r}return function(n,r,o,i){r=S(r,i,4);var a=!L(n)&&b.keys(n),c=(a||n).length,s=e>0?0:c-1;return arguments.length<3&&(o=n[a?a[s]:s],s+=e),t(n,r,o,a,s,c)}}function r(e){return function(t,n,r){n=x(n,r);for(var o=N(t),i=e>0?0:o-1;i>=0&&o>i;i+=e)if(n(t[i],i,t))return i;return-1}}function o(e,t,n){return function(r,o,i){var a=0,c=N(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+c,a):c=i>=0?Math.min(i+1,c):i+c+1;else if(n&&i&&c)return i=n(r,o),r[i]===o?i:-1;if(o!==o)return i=t(h.call(r,a,c),b.isNaN),i>=0?i+a:-1;for(i=e>0?a:c-1;i>=0&&c>i;i+=e)if(r[i]===o)return i;return-1}}function i(e,t){var n=O.length,r=e.constructor,o=b.isFunction(r)&&r.prototype||u,i="constructor";for(b.has(e,i)&&!b.contains(t,i)&&t.push(i);n--;)i=O[n],i in e&&e[i]!==o[i]&&!b.contains(t,i)&&t.push(i)}var a=this,c=a._,s=Array.prototype,u=Object.prototype,f=Function.prototype,l=s.push,h=s.slice,p=u.toString,d=u.hasOwnProperty,m=Array.isArray,g=Object.keys,v=f.bind,y=Object.create,_=function(){},b=function Q(e){return e instanceof Q?e:this instanceof Q?void(this._wrapped=e):new Q(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):a._=b,b.VERSION="1.8.3";var S=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return null==e?b.identity:b.isFunction(e)?S(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return x(e,t,1/0)};var w=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var o=1;r>o;o++)for(var i=arguments[o],a=e(i),c=a.length,s=0;c>s;s++){var u=a[s];t&&void 0!==n[u]||(n[u]=i[u])}return n}},C=function(e){if(!b.isObject(e))return{};if(y)return y(e);_.prototype=e;var t=new _;return _.prototype=null,t},F=function(e){return function(t){return null==t?void 0:t[e]}},A=Math.pow(2,53)-1,N=F("length"),L=function(e){var t=N(e);return"number"==typeof t&&t>=0&&A>=t};b.each=b.forEach=function(e,t,n){t=S(t,n);var r,o;if(L(e))for(r=0,o=e.length;o>r;r++)t(e[r],r,e);else{var i=b.keys(e);for(r=0,o=i.length;o>r;r++)t(e[i[r]],i[r],e)}return e},b.map=b.collect=function(e,t,n){t=x(t,n);for(var r=!L(e)&&b.keys(e),o=(r||e).length,i=Array(o),a=0;o>a;a++){var c=r?r[a]:a;i[a]=t(e[c],c,e)}return i},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,n){var r;return r=L(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},b.filter=b.select=function(e,t,n){var r=[];return t=x(t,n),b.each(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r},b.reject=function(e,t,n){return b.filter(e,b.negate(x(t)),n)},b.every=b.all=function(e,t,n){t=x(t,n);for(var r=!L(e)&&b.keys(e),o=(r||e).length,i=0;o>i;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,n){t=x(t,n);for(var r=!L(e)&&b.keys(e),o=(r||e).length,i=0;o>i;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,r){return L(e)||(e=b.values(e)),("number"!=typeof n||r)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=h.call(arguments,2),r=b.isFunction(t);return b.map(e,function(e){var o=r?t:e[t];return null==o?o:o.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var r,o,i=-1/0,a=-1/0;if(null==t&&null!=e){e=L(e)?e:b.values(e);for(var c=0,s=e.length;s>c;c++)r=e[c],r>i&&(i=r)}else t=x(t,n),b.each(e,function(e,n,r){o=t(e,n,r),(o>a||o===-1/0&&i===-1/0)&&(i=e,a=o)});return i},b.min=function(e,t,n){var r,o,i=1/0,a=1/0;if(null==t&&null!=e){e=L(e)?e:b.values(e);for(var c=0,s=e.length;s>c;c++)r=e[c],i>r&&(i=r)}else t=x(t,n),b.each(e,function(e,n,r){o=t(e,n,r),(a>o||1/0===o&&1/0===i)&&(i=e,a=o)});return i},b.shuffle=function(e){for(var t,n=L(e)?e:b.values(e),r=n.length,o=Array(r),i=0;r>i;i++)t=b.random(0,i),t!==i&&(o[i]=o[t]),o[t]=n[i];return o},b.sample=function(e,t,n){return null==t||n?(L(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=x(t,n),b.pluck(b.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,r){var o={};return n=x(n,r),b.each(t,function(r,i){var a=n(r,i,t);e(o,r,a)}),o}};b.groupBy=M(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=M(function(e,t,n){e[n]=t}),b.countBy=M(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?h.call(e):L(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:L(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=x(t,n);var r=[],o=[];return b.each(e,function(e,n,i){(t(e,n,i)?r:o).push(e)}),[r,o]},b.first=b.head=b.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return h.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var P=function V(e,t,n,r){for(var o=[],i=0,a=r||0,c=N(e);c>a;a++){var s=e[a];if(L(s)&&(b.isArray(s)||b.isArguments(s))){t||(s=V(s,t,n));var u=0,f=s.length;for(o.length+=f;f>u;)o[i++]=s[u++]}else n||(o[i++]=s)}return o};b.flatten=function(e,t){return P(e,t,!1)},b.without=function(e){return b.difference(e,h.call(arguments,1))},b.uniq=b.unique=function(e,t,n,r){b.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var o=[],i=[],a=0,c=N(e);c>a;a++){var s=e[a],u=n?n(s,a,e):s;t?(a&&i===u||o.push(s),i=u):n?b.contains(i,u)||(i.push(u),o.push(s)):b.contains(o,s)||o.push(s)}return o},b.union=function(){return b.uniq(P(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,r=0,o=N(e);o>r;r++){var i=e[r];if(!b.contains(t,i)){for(var a=1;n>a&&b.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},b.difference=function(e){var t=P(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,N).length||0,n=Array(t),r=0;t>r;r++)n[r]=b.pluck(e,r);return n},b.object=function(e,t){for(var n={},r=0,o=N(e);o>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,n,r){n=x(n,r,1);for(var o=n(t),i=0,a=N(e);a>i;){var c=Math.floor((i+a)/2);n(e[c])<o?i=c+1:a=c}return i},b.indexOf=o(1,b.findIndex,b.sortedIndex),b.lastIndexOf=o(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;r>i;i++,e+=n)o[i]=e;return o};var T=function(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=C(e.prototype),a=e.apply(i,o);return b.isObject(a)?a:i};b.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,h.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=h.call(arguments,2),r=function o(){return T(e,o,t,this,n.concat(h.call(arguments)))};return r},b.partial=function(e){var t=h.call(arguments,1),n=function r(){for(var n=0,o=t.length,i=Array(o),a=0;o>a;a++)i[a]=t[a]===b?arguments[n++]:t[a];for(;n<arguments.length;)i.push(arguments[n++]);return T(e,r,this,this,i)};return n},b.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function r(n){var o=r.cache,i=""+(t?t.apply(this,arguments):n);return b.has(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},b.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var r,o,i,a=null,c=0;n||(n={});var s=function(){c=n.leading===!1?0:b.now(),a=null,i=e.apply(r,o),a||(r=o=null)};return function(){var u=b.now();c||n.leading!==!1||(c=u);var f=t-(u-c);return r=this,o=arguments,0>=f||f>t?(a&&(clearTimeout(a),a=null),c=u,i=e.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(s,f)),i}},b.debounce=function(e,t,n){var r,o,i,a,c,s=function u(){var s=b.now()-a;t>s&&s>=0?r=setTimeout(u,t-s):(r=null,n||(c=e.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=b.now();var u=n&&!r;return r||(r=setTimeout(s,t)),u&&(c=e.apply(i,o),i=o=null),c}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},b.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},b.once=b.partial(b.before,2);var j=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return j&&i(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return j&&i(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),o=0;n>o;o++)r[o]=e[t[o]];return r},b.mapObject=function(e,t,n){t=x(t,n);for(var r,o=b.keys(e),i=o.length,a={},c=0;i>c;c++)r=o[c],a[r]=t(e[r],r,e);return a},b.pairs=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),o=0;n>o;o++)r[o]=[t[o],e[t[o]]];return r},b.invert=function(e){for(var t={},n=b.keys(e),r=0,o=n.length;o>r;r++)t[e[n[r]]]=n[r];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=w(b.allKeys),b.extendOwn=b.assign=w(b.keys),b.findKey=function(e,t,n){t=x(t,n);for(var r,o=b.keys(e),i=0,a=o.length;a>i;i++)if(r=o[i],t(e[r],r,e))return r},b.pick=function(e,t,n){var r,o,i={},a=e;if(null==a)return i;b.isFunction(t)?(o=b.allKeys(a),r=S(t,n)):(o=P(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var c=0,s=o.length;s>c;c++){var u=o[c],f=a[u];r(f,u,a)&&(i[u]=f)}return i},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(P(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(r,t)}}return b.pick(e,t,n)},b.defaults=w(b.allKeys,!0),b.create=function(e,t){var n=C(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;r>i;i++){var a=n[i];if(t[a]!==o[a]||!(a in o))return!1}return!0};var I=function J(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var o=p.call(e);if(o!==p.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,c=t.constructor;if(a!==c&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var s=n.length;s--;)if(n[s]===e)return r[s]===t;if(n.push(e),r.push(t),i){if(s=e.length,s!==t.length)return!1;for(;s--;)if(!J(e[s],t[s],n,r))return!1}else{var u,f=b.keys(e);if(s=f.length,b.keys(t).length!==s)return!1;for(;s--;)if(u=f[s],!b.has(t,u)||!J(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(e,t){return I(e,t)},b.isEmpty=function(e){return null==e?!0:L(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=m||function(e){return"[object Array]"===p.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&d.call(e,t)},b.noConflict=function(){return a._=c,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=F,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var r=Array(Math.max(0,e));t=S(t,n,1);for(var o=0;e>o;o++)r[o]=t(o);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},k=b.invert(R),D=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}};b.escape=D(R),b.unescape=D(k),b.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),b.isFunction(r)?r.call(e):r};var E=0;b.uniqueId=function(e){var t=++E+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+H[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,function(t,n,r,a,c){return i+=e.slice(o,c).replace(q,G),o=c+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(c){throw c.source=i,c}var s=function(e){return a.call(this,e,b)},u=t.variable||"obj";return s.source="function("+u+"){\n"+i+"}",s},b.chain=function(e){var t=b(e);return t._chain=!0,t};var K=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),K(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),
"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}}),b.each(["concat","join","slice"],function(e){var t=s[e];b.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this),cc._RFpop()},{}]},{},["choicePanel","choice","human","mbgGame","underscore","peoplePanel","parts","stageManager","data","resManager","queuedata","rise","head"]);